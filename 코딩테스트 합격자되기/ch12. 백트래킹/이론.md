# 백트래킹과 백트래킹 알고리즘 개념

## 백트래킹이란?
- 가능성이 없는 곳을 알아보고 되돌아 가는 것

## 백트래킹 알고리즘이란?
- 해를 찾는 도중에 해가 될 가능성이 없다고 판단되는 경우, 그 해를 더 이상 탐색하지 않고 이전 단계로 되돌아가 다른 경로를 탐색하는 알고리즘
- 탐색 공간을 줄여 효율적으로 문제를 해결할 수 있음 -> 완전 탐색과 대비

## 유망 함수란?
- 현재 상태가 해가 될 가능성이 있는지 없는지를 판단하는 함수
  - 유망한 상태: 해가 될 가능성이 있는 상태
  - 비유망한 상태: 해가 될 가능성이 없는 상태
- 백트레킹 알고리즘이 작동하는 과정
1. 유효한 해의 집합을 정의
2. 정의한 집합을 그래프로 표현
3. 유망 함수를 정의
4. 백트래킹 알고리즘을 활용해서 해를 찾음

### 유망함수의 예시

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2F4tmP7%2FbtrWBbZPxya%2FAAAAAAAAAAAAAAAAAAAAALSeoYy6sBfRDOA6WzZNfRfe8rLn1o_KyBINXCyuToyc%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1764514799%26allow_ip%3D%26allow_referer%3D%26signature%3DqtuS1b%252FLDi5AJar%252B%252F9Zg9gB7mRQ%253D)

## 백트래킹 알고리즘 문제에 적용해보기

### 부분 집합 합
- 1~N 까지 숫자를 조합했을 때 합이 K가 되는 조합을 찾는 문제
#### 완전 탐색으로 풀기
- 모든 경우의 수를 탐색하여, 16번의 탐색을 진행함 <br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.08.28.png)
#### 백트래킹으로 풀기

##### 1단계: 백트래킹을 통해 탐색을 배제할 노드 찾기

![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.09.20.png)

##### 2단계: 배제한 노드를 활용해 백트래킹 알고리즘 구현하기

![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.09.40.png)

### N-Queen 문제
- 체스의 퀸을 N × N 체스판에 N개 배치했을 때 서로를 공격할 수 없는 위치에 놓을 수 있는 방법이 있는지 찾는 문제 <br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.10.53.png)
- 퀸의 이동 경로에 다른 퀸이 있으면 공격하여 제거할 수 있음
- 그렇지 않도록 퀸을 배치할 수 있는지 알아보는 문제
- 아래 이미지와 같은 경우에는 퀸이 서로 공격할 수 없음 <br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.11.12.png)
#### 완전 탐색으로 풀기
- 퀸을 놓을 수 있는 경우의 수를 모두 탐색해보는 방식 <br>

![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.11.44.png)

#### 백트래킹으로 풀기
- 유망 함수를 추가해서 탐색 대상을 줄이고 시간 복잡도를 감소시킬 수 있음
  - 여왕이 추가될 때마다 행이나, 대각선 방향에 겹치는 여왕이 있으면 더 탐색하지 않기 <br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.12.31.png)

##### 구체적으로 푸는 방법
1. 유효한 해의 집합을 정의<br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.12.53.png)<br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.13.11.png)
2. 해의 집합을 그래프로 표현<br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.13.27.png)
3. 이동하면서 유망함수를 기준으로 백트래킹을 수행<br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.13.41.png)
4. 아래는 유망함수를 통과하여 탐색하는 경우를 나타냄<br>
![](https://goldenrabbit.co.kr/wp-content/uploads/2024/01/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-2024-01-03-%EC%98%A4%EC%A0%84-9.13.59.png)

# 참고 자료
- https://hstory0208.tistory.com/entry/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9Back-Tracking%EC%9D%B4%EB%9E%80
- https://goldenrabbit.co.kr/2024/01/03/%EC%BD%94%EB%94%A9-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%A9%EA%B2%A9%EC%9E%90-%EB%90%98%EA%B8%B0-%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9-2-%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9-%EC%95%8C%EA%B3%A0/
- 